<div id="filter-header" [class.hidden]="filterTags.length == 0">
  <mat-icon>filter_alt</mat-icon>
  <span>Filtering <b>{{filterTags.length}}</b> tags.</span>

  <div class="vertical-rule"></div>

  <mat-button-toggle-group (change)="applyFilter(filteringMethod.value)" #filteringMethod="matButtonToggleGroup" value="exclusive" id="filtering-method-toggle">
    <mat-button-toggle value="exclusive">Exclusive</mat-button-toggle>
    <mat-button-toggle value="joined">Joined</mat-button-toggle>
  </mat-button-toggle-group>
  <mat-icon id="filter-method-help" matTooltip="Exclusive: Only show boards that have all filter tags. Joined: Show boards that have one or more of the filter tags.">info</mat-icon>

  <div class="vertical-rule"></div>

  <button mat-icon-button (click)="clearFilter()"><mat-icon>filter_alt_off</mat-icon></button>
</div>

<div id="container">
  <div class="board-card" *ngFor="let board of displayBoards">
    <div class="board-card-body-container" [class.long-title]="board.name.length >= 30">
      <div class="board-card-body-text" [class.short-title]="board.name.split(' ').length <= 3">
        {{board.name}}
      </div>
      <div class="board-card-body-tags">
        <div class="board-edit-button-container">
          <button class="board-edit-button" (click)="editBoard(board); $event.stopPropagation();" matRipple>
            <span class="font-mat-icon">edit</span>
          </button>
        </div>
        <img class="board-card-tag" *ngFor="let tag of getTags(board.tags)" [src]="dataService.getUserImageUrl(tag.icon)" [alt]="tag.name" [matTooltip]="tag.name">
      </div>
    </div>
    <div class="board-card-ticker-container">
      <div class="board-card-ticker" matRipple [matRippleCentered]="true" matRippleColor="#69967540" [matTooltip]="board.progress + '/' + board.total" (click)="tickBoard(board)">
        <svg *ngIf="board.total == 4"
          class="board-ticker"
          viewBox="0 0 104 104"
          version="1.1"
          id="svg1695"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:svg="http://www.w3.org/2000/svg">
          <defs
            id="defs1692" />
          <g
            id="layer1">
            <path
              [class.active]="board.progress >= 2"
              style="fill-opacity:1;stroke:none;stroke-width:0.892352;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
              d="m 53.450705,57.18886 v 42.50182 c 0,2.04576 1.66023,3.65622 3.69369,3.43622 24.17308,-2.61529 43.333225,-21.77544 45.948515,-45.94852 0.22,-2.03346 -1.39046,-3.69369 -3.436225,-3.69369 h -42.50181 a 3.7041667,3.7041667 0 0 0 -3.70417,3.70417 z"
              id="path6912" />
            <path
              [class.active]="board.progress >= 3"
              style="fill-opacity:1;stroke:none;stroke-width:0.892352;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
              d="m 0.020145,57.17838 c 2.61528,24.17307 21.77541,43.33322 45.94848,45.94852 2.03346,0.22 3.69369,-1.39046 3.69369,-3.43622 V 57.18886 a 3.7041667,3.7041667 0 0 0 -3.70417,-3.70417 H 3.456365 c -2.04576,0 -3.65622,1.66023 -3.43622,3.69369 z"
              id="path6910" />
            <path
              [class.active]="board.progress >= 4"
              style="fill-opacity:1;stroke:none;stroke-width:0.892352;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
              d="m 45.968625,0.05413 c -24.17306,2.6153 -43.33318,21.77543 -45.94848,45.94849 -0.22,2.03346 1.39046,3.69369 3.43622,3.69369 h 42.50178 a 3.7041667,3.7041667 0 0 0 3.70417,-3.70417 V 3.49035 c 0,-2.04576 -1.66023,-3.65622 -3.69369,-3.43622 z"
              id="path6908" />
            <path
              [class.active]="board.progress >= 1"
              style="fill-opacity:1;stroke:none;stroke-width:0.892352;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
              d="m 53.450705,3.45835 v 42.53383 a 3.7041667,3.7041667 0 0 0 3.70417,3.70417 h 42.53382 c 2.045755,0 3.657205,-1.66026 3.438435,-3.69385 C 100.52384,21.80493 81.342125,2.62321 57.144555,0.01992 c -2.03359,-0.21878 -3.69385,1.39267 -3.69385,3.43843 z"
              id="path6888" />
          </g>
        </svg>
        <svg *ngIf="board.total == 6"
          class="board-ticker"
             viewBox="0 0 104 104"
          version="1.1"
          id="svg1910"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:svg="http://www.w3.org/2000/svg">
          <defs
            id="defs1907" />
          <g
            id="layer1">
            <path
              [class.active]="board.progress >= 3"
              style="fill-opacity:1;stroke:none;stroke-width:0.892352;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
              d="M 53.743848,58.57482 V 99.6896 c 0,2.04576 1.66028,3.65663 3.69364,3.43573 14.48163,-1.57325 27.64601,-9.1737 36.24929,-20.92855 1.20798,-1.65049 0.64307,-3.89377 -1.1286,-4.91664 L 56.951748,56.72273 a 2.1386006,2.1386006 0 0 0 -3.2079,1.85209 z"
              id="path6942" />
            <path
              [class.active]="board.progress >= 4"
              style="fill-opacity:1;stroke:none;stroke-width:0.892352;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
              d="m 46.747038,56.72273 -35.60644,20.55741 c -1.77167,1.02287 -2.33658,3.26615 -1.1286,4.91665 8.60329,11.75484 21.76766,19.3553 36.2493,20.92854 2.03336,0.2209 3.69364,-1.38997 3.69364,-3.43573 V 58.57482 a 2.1386008,2.1386008 0 0 0 -3.2079,-1.85209 z"
              id="path6940" />
            <path
              [class.active]="board.progress >= 5"
              style="fill-opacity:1;stroke:none;stroke-width:0.892352;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
              d="m 4.418488,30.65801 c -2.41536,5.45302 -3.87237,11.28221 -4.30676,17.23037 -0.14897,2.03989 -0.14897,5.36175 0,7.40164 0.43439,5.94816 1.8914,11.77733 4.30676,17.23035 0.82833,1.87008 3.05597,2.50117 4.82764,1.4783 l 35.60644,-20.55739 a 2.1386024,2.1386024 0 0 0 0,-3.70416 L 9.246128,29.17971 c -1.77167,-1.02287 -3.99931,-0.39178 -4.82764,1.4783 z"
              id="path6938" />
            <path
              [class.active]="board.progress >= 2"
              style="fill-opacity:1;stroke:none;stroke-width:0.892352;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
              d="m 94.483128,29.16211 -35.63694,20.57498 a 2.1386235,2.1386235 0 0 0 -10e-6,3.70419 l 35.60648,20.55786 c 1.77167,1.02289 3.9993,0.39181 4.82763,-1.47827 2.415432,-5.45318 3.872462,-11.28254 4.306802,-17.23088 0.14896,-2.03989 0.15135,-5.36173 0.005,-7.40183 -0.42601,-5.95213 -1.87597,-11.7866 -4.285832,-17.24571 -0.82599,-1.87112 -3.05179,-2.50321 -4.82346,-1.48034 z"
              id="path6936" />
            <path
              [class.active]="board.progress >= 6"
              style="fill-opacity:1;stroke:none;stroke-width:0.892352;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
              d="m 46.261298,0.05302 c -14.48164,1.57324 -27.64601,9.1737 -36.2493,20.92855 -1.20798,1.65049 -0.64307,3.89377 1.1286,4.91664 l 35.60644,20.55742 a 2.1386004,2.1386004 0 0 0 3.2079,-1.85209 V 3.48875 c 0,-2.04576 -1.66028,-3.65663 -3.69364,-3.43573 z"
              id="path6934" />
            <path
              [class.active]="board.progress >= 1"
              style="fill-opacity:1;stroke:none;stroke-width:0.892352;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
              d="m 53.743848,3.45725 v 41.14633 a 2.1386177,2.1386177 0 0 0 3.20791,1.85211 l 35.63483,-20.57347 c 1.77168,-1.02286 2.33707,-3.26643 1.12965,-4.91733 C 85.109398,9.19686 71.932468,1.58943 57.437588,0.02016 c -2.03344,-0.22015 -3.69374,1.39133 -3.69374,3.43709 z"
              id="path6900" />
          </g>
        </svg>
        <svg *ngIf="board.total == 8"
          class="board-ticker"
             viewBox="0 0 104 104"
          version="1.1"
          id="svg2127"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:svg="http://www.w3.org/2000/svg">
          <defs
            id="defs2124" />
          <g
            id="layer1">
            <path
              [class.active]="board.progress >= 4"
              style="fill-opacity:1;stroke:none;stroke-width:0.892352;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
              d="m 53.454463,59.86726 v 39.82237 c 0,2.04576 1.66034,3.65848 3.69393,3.4397 9.85208,-1.05991 19.1975,-4.92119 26.92448,-11.12448 1.59494,-1.28043 1.63064,-3.59269 0.18407,-5.03926 L 56.073703,58.78233 a 1.5343154,1.5343154 0 0 0 -2.61924,1.08493 z"
              id="path14048" />
            <path
              [class.active]="board.progress >= 5"
              style="fill-opacity:1;stroke:none;stroke-width:0.892352;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
              d="m 47.046313,58.78233 -28.18326,28.18326 c -1.44657,1.44657 -1.41087,3.75883 0.18407,5.03926 7.72698,6.20329 17.07241,10.06457 26.9245,11.12448 2.03359,0.21878 3.69393,-1.39394 3.69393,-3.4397 V 59.86726 a 1.5343161,1.5343161 0 0 0 -2.61924,-1.08493 z"
              id="path14046" />
            <path
              [class.active]="board.progress >= 3"
              style="fill-opacity:1;stroke:none;stroke-width:0.892352;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
              d="m 58.752613,56.10291 28.18324,28.18324 c 1.44657,1.44657 3.75885,1.41089 5.0393,-0.18403 6.20346,-7.72694 10.064897,-17.07238 11.124927,-26.92452 0.2188,-2.03359 -1.3939,-3.69393 -3.439657,-3.69393 h -39.82288 a 1.5343161,1.5343161 0 0 0 -1.08493,2.61924 z"
              id="path14044" />
            <path
              [class.active]="board.progress >= 6"
              style="fill-opacity:1;stroke:none;stroke-width:0.892352;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
              d="m 0.019913,57.17759 c 1.06003,9.85215 4.92147,19.19759 11.12493,26.92453 1.28045,1.59492 3.59273,1.6306 5.0393,0.18403 l 28.18326,-28.18324 a 1.5343154,1.5343154 0 0 0 -1.08493,-2.61924 h -39.8229 c -2.04576,0 -3.65846,1.66034 -3.43966,3.69392 z"
              id="path14042" />
            <path
              [class.active]="board.progress >= 7"
              style="fill-opacity:1;stroke:none;stroke-width:0.892352;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
              d="m 11.144843,19.0768 c -6.20346,7.72695 -10.0649,17.07239 -11.12493,26.92454 -0.2188,2.03359 1.3939,3.69393 3.43966,3.69393 h 39.8229 a 1.5343161,1.5343161 0 0 0 1.08493,-2.61924 L 16.184143,18.89277 c -1.44657,-1.44657 -3.75885,-1.41089 -5.0393,0.18403 z"
              id="path14040" />
            <path
              [class.active]="board.progress >= 2"
              style="fill-opacity:1;stroke:none;stroke-width:0.892352;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
              d="m 86.936373,18.89226 -28.18376,28.18377 a 1.5343164,1.5343164 0 0 0 1.08493,2.61924 h 39.85492 c 2.045757,0 3.657347,-1.66031 3.437177,-3.69374 -1.06713,-9.85596 -4.937877,-19.20277 -11.151357,-26.92749 -1.28194,-1.59373 -3.59534,-1.62835 -5.04191,-0.18178 z"
              id="path14038" />
            <path
              [class.active]="board.progress >= 8"
              style="fill-opacity:1;stroke:none;stroke-width:0.892352;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
              d="m 45.971623,0.04961 c -9.85209,1.05991 -19.19751,4.92118 -26.9245,11.12448 -1.59494,1.28043 -1.63064,3.59269 -0.18407,5.03926 l 28.18326,28.18326 a 1.5343161,1.5343161 0 0 0 2.61924,-1.08493 V 3.48931 c 0,-2.04576 -1.66034,-3.65848 -3.69393,-3.4397 z"
              id="path14036" />
            <path
              [class.active]="board.progress >= 1"
              style="fill-opacity:1;stroke:none;stroke-width:0.892352;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
              d="m 53.454463,3.45731 v 39.85441 a 1.5343154,1.5343154 0 0 0 2.61924,1.08493 l 28.18324,-28.18326 c 1.44657,-1.44657 1.41195,-3.75997 -0.18178,-5.0419 -7.72458,-6.21338 -17.07119,-10.08411 -26.92696,-11.15132 -2.03343,-0.22019 -3.69374,1.39138 -3.69374,3.43714 z"
              id="path14028" />
          </g>
        </svg>
      </div>
    </div>

    <!--<div class="board-edit-button-container">
      <button class="board-edit-button" (click)="editBoard(board); $event.stopPropagation();" matRipple>
        <span class="font-mat-icon">edit</span>
      </button>
    </div>-->
  </div>
  <div class="board-card board-card-add" (click)="createNewBoard()" matRipple>
    <mat-icon>add</mat-icon>
  </div>
</div>
